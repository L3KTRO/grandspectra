<div id="content-container" *ngIf="readonly()">
  <div class="container" id="meta">
    <div id="background-poster" [style.background-image]="'url('+poster(movie.asReadonly().value().poster)+')'">
      <img id="poster" ngSrc="{{ poster(movie.asReadonly().value().poster) }}" alt="poster" height="450" width="300">
    </div>
    <div>
      <h1 id="title">{{ readonly().title }}</h1>
      <div id="metadata">
        <h2 id="director" *ngIf="director()">Directed by <span>{{ director().person.name }}</span></h2>
        <h3 *ngIf="readonly().release_date">{{ year() }}</h3>
        <h3 *ngIf="readonly().runtime">{{ readonly().runtime }}m</h3>
      </div>
      <div id="tmdb-rating">
        <img ngSrc="../../../assets/tmdb.svg" alt="tmdb" height="25" width="40">
        <h3>{{ readonly().vote_average }}({{ readonly().vote_count }})</h3>
      </div>
      <div>
        <p id="overview">{{ readonly().overview }}</p>
      </div>
      <div id="actions">
        <div id="buttons">
          <div (click)="toggleWatched()">
            @if (watched()) {
              <svg width="35px" height="35px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                   stroke="#252020">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <g id="style=fill">
                    <g id="check-circle">
                      <path id="vector (Stroke)" fill-rule="evenodd" clip-rule="evenodd"
                            d="M12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12Z"
                            fill="none"></path>
                      <path id="vector (Stroke)_2" fill-rule="evenodd" clip-rule="evenodd"
                            d="M16.5303 8.96967C16.8232 9.26256 16.8232 9.73744 16.5303 10.0303L11.9041 14.6566C11.2207 15.34 10.1126 15.34 9.42923 14.6566L7.46967 12.697C7.17678 12.4041 7.17678 11.9292 7.46967 11.6363C7.76256 11.3434 8.23744 11.3434 8.53033 11.6363L10.4899 13.5959C10.5875 13.6935 10.7458 13.6935 10.8434 13.5959L15.4697 8.96967C15.7626 8.67678 16.2374 8.67678 16.5303 8.96967Z"
                            fill="none"></path>
                      <path id="Subtract" fill-rule="evenodd" clip-rule="evenodd"
                            d="M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM16.5303 10.0303C16.8232 9.73744 16.8232 9.26256 16.5303 8.96967C16.2374 8.67678 15.7626 8.67678 15.4697 8.96967L10.8434 13.5959C10.7458 13.6935 10.5875 13.6935 10.4899 13.5959L8.53033 11.6363C8.23744 11.3434 7.76256 11.3434 7.46967 11.6363C7.17678 11.9292 7.17678 12.4041 7.46967 12.697L9.42923 14.6566C10.1126 15.34 11.2207 15.34 11.9041 14.6566L16.5303 10.0303Z"
                            fill="#a89f8e"></path>
                    </g>
                  </g>
                </g>
              </svg>
            } @else {
              <svg width="35px" height="35px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                   stroke="none">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <g id="style=stroke">
                    <g id="check-circle">
                      <path id="vector (Stroke)" fill-rule="evenodd" clip-rule="evenodd"
                            d="M12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75ZM1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12Z"
                            fill="#a89f8e"></path>
                      <path id="vector (Stroke)_2" fill-rule="evenodd" clip-rule="evenodd"
                            d="M16.5303 8.96967C16.8232 9.26256 16.8232 9.73744 16.5303 10.0303L11.9041 14.6566C11.2207 15.34 10.1126 15.34 9.42923 14.6566L7.46967 12.697C7.17678 12.4041 7.17678 11.9292 7.46967 11.6363C7.76256 11.3434 8.23744 11.3434 8.53033 11.6363L10.4899 13.5959C10.5875 13.6935 10.7458 13.6935 10.8434 13.5959L15.4697 8.96967C15.7626 8.67678 16.2374 8.67678 16.5303 8.96967Z"
                            fill="#a89f8e"></path>
                      <path id="Subtract" fill-rule="evenodd" clip-rule="evenodd"
                            d="M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM16.5303 10.0303C16.8232 9.73744 16.8232 9.26256 16.5303 8.96967C16.2374 8.67678 15.7626 8.67678 15.4697 8.96967L10.8434 13.5959C10.7458 13.6935 10.5875 13.6935 10.4899 13.5959L8.53033 11.6363C8.23744 11.3434 7.76256 11.3434 7.46967 11.6363C7.17678 11.9292 7.17678 12.4041 7.46967 12.697L9.42923 14.6566C10.1126 15.34 11.2207 15.34 11.9041 14.6566L16.5303 10.0303Z"
                            fill="none"></path>
                    </g>
                  </g>
                </g>
              </svg>
            }
          </div>
          <div (click)="toggleWatchlist()">
            @if (watchlist()) {
              <svg width="35px" height="35px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                   stroke="none" stroke-width="1.416">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    d="M15.75 3.25H8.24999C7.52064 3.25 6.82117 3.53973 6.30545 4.05546C5.78972 4.57118 5.49999 5.27065 5.49999 6V20C5.49898 20.1377 5.53587 20.2729 5.60662 20.391C5.67738 20.5091 5.77926 20.6054 5.90112 20.6695C6.02298 20.7335 6.16012 20.7627 6.2975 20.754C6.43488 20.7453 6.56721 20.6989 6.67999 20.62L12 16.91L17.32 20.62C17.4467 20.7063 17.5967 20.7516 17.75 20.75C17.871 20.7486 17.9903 20.7213 18.1 20.67C18.2203 20.6041 18.3208 20.5072 18.3911 20.3894C18.4615 20.2716 18.499 20.1372 18.5 20V6C18.5 5.27065 18.2103 4.57118 17.6945 4.05546C17.1788 3.53973 16.4793 3.25 15.75 3.25Z"
                    fill="#a89f8e"></path>
                </g>
              </svg>
            } @else {
              <svg width="35px" height="35px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                   stroke="#a89f8e" stroke-width="1.416">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                  <path
                    d="M15.75 3.25H8.24999C7.52064 3.25 6.82117 3.53973 6.30545 4.05546C5.78972 4.57118 5.49999 5.27065 5.49999 6V20C5.49898 20.1377 5.53587 20.2729 5.60662 20.391C5.67738 20.5091 5.77926 20.6054 5.90112 20.6695C6.02298 20.7335 6.16012 20.7627 6.2975 20.754C6.43488 20.7453 6.56721 20.6989 6.67999 20.62L12 16.91L17.32 20.62C17.4467 20.7063 17.5967 20.7516 17.75 20.75C17.871 20.7486 17.9903 20.7213 18.1 20.67C18.2203 20.6041 18.3208 20.5072 18.3911 20.3894C18.4615 20.2716 18.499 20.1372 18.5 20V6C18.5 5.27065 18.2103 4.57118 17.6945 4.05546C17.1788 3.53973 16.4793 3.25 15.75 3.25Z"
                    fill="none"></path>
                </g>
              </svg>
            }
          </div>
        </div>
        <div id="rating">
          <p-rating [(ngModel)]="rating" stars="10"/>
          <h2>{{ rating() ?? 0 }}/10</h2>
        </div>
      </div>

    </div>
  </div>
  <div class="container" id="people">
    <h2>
      <span (click)="isCast.set(true)" [ngClass]="isCast() ? 'light-neon-effect-text' : ''">Cast</span>
      |
      <span (click)="isCast.set(false)" [ngClass]="!isCast() ? 'light-neon-effect-text' : ''">Crew</span>
    </h2>
    <app-creditlist [content]="isCast() ? cast() : crew()"/>
  </div>

  <div class="container" id="details">
    <h2>
      <span class="light-neon-effect-text">Details</span>
    </h2>
    <div class="subcontainer">
      <h3>Genres</h3>
      <p>{{ genres() }}</p>
    </div>
    <div class="subcontainer" *ngIf="companies()">
      <h3>Companies</h3>
      <p>{{ companies() }}</p>
    </div>
    <div class="subcontainer">
      <h3>Budget - Revenue</h3>
      <p>{{ readonly().budget | number:'1.0-0':'en' }} - {{ readonly().revenue | number:'1.0-0':'en' }}</p>
    </div>
  </div>
  <div class="container" id="recommendations">
    <h2>
      <span class="light-neon-effect-text">Recommendations</span>
    </h2>
    <app-contentlist [content]="this.readonly().recommendations"/>
  </div>
</div>
